<div class="card-container">
  <h1 class="page-title">My Feedback</h1>
  <div class="blue-line"></div>
</div>
 
<!-- Delete Confirmation Popup -->
<div class="popup-overlay" *ngIf="showPopup">
  <div class="popup-content">
    <h2 class="text-danger">Confirm Delete</h2>
    <p>Are you sure you want to delete this feedback?</p>
    <div class="popup-actions">
      <button class="btn btn-danger" (click)="confirmDelete()">Yes, Delete</button>
      <button class="btn btn-secondary" (click)="cancelDelete()">Cancel</button>
    </div>
  </div>
</div>
 
<div class="table-responsive mt-4">
  <table class="table table-hover table-bordered curved-table">
    <thead class="table-dark">
      <tr>
        <th>S.No</th>
        <th>User Name</th>
        <th>Feedback</th>
        <th>Ratings</th>
        <th>Action</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngIf="feedbacks.length === 0">
        <td colspan="5" class="text-center text-muted">No data found</td>
      </tr>
      <tr *ngFor="let feedback of feedbacks; index as i">
        <td>{{ i + 1 }}</td>
        <td>{{ feedback.user.username }}</td>
        <td>{{ feedback.message }}</td>
        <td>
          <span class="badge badge-success" *ngIf="feedback.rating >= 4">Good</span>
          <span class="badge badge-warning" *ngIf="feedback.rating === 3">Average</span>
          <span class="badge badge-danger" *ngIf="feedback.rating <= 2">Poor</span>
        </td>
        <td>
          <button class="btn btn-danger btn-sm" type="button" (click)="showDeletePopup(feedback.feedbackId)">
            Delete
          </button>
        </td>
      </tr>
    </tbody>
  </table>
</div>
<app-footer></app-footer>